# LaTeX-cookbook

《LaTeX Cookbook》原文PDF，与它的配套文件（源代码）。

# 前言 #

LaTeX是一款高质量排版软件，非常受欢迎，尤其是在科学家中。它的编程语言使您能够完全控制文档的各个方面，无论它们有多复杂。LaTeX的大量可定制模板和支持包涵盖了嵌入式排版专业知识的写作的大部分方面。

通过本书，您将学习利用最新文档类的功能，并探索最新软件包的功能。本书从常见文档类型的示例开始。它提供了调整文本设计、使用字体、嵌入图像和创建清晰表格的示例。LaTeX的现代方法涵盖了文档的常见部分，如参考书目、词汇表和索引。您将学习如何直接在LaTeX中创建出色的图形；这包括快速轻松地创建图表和绘图。

最后，这本书展示了LaTeX在各个科学领域的应用。本书中的示例驱动方法肯定会提高您的生产率。

## 这本书涵盖的内容 ##

- 第1章，文档类型的多样性，向您介绍不同类型的文档，并介绍如何将LaTeX用于任何文档类型，如论文、书籍、简历、演示、传单和大型海报。

- 第2章，调整文本，重点是定制文档中的文本细节。我们将从一些非常有用的基础知识开始，介绍一些有用的东西。在本章的结尾，我们将展示乳胶除了矩形段落之外还能做些什么。

- 第3章，调整字体，帮助您全局选择字体，并演示如何在文档中调整字体。

- 第4章，使用图像，包含一些在LaTeX中包含、定位和操作图像的方法。在讨论了质量方面之后，您将了解用于自动定位的浮动数字的概念，以便在页面上提供平衡的文本高度。

- 第五章，美丽的设计，帮助你添加背景图像，创建美丽的装饰品，添加美丽的标题，制作日历，为电脑按键和菜单项插入符号。

- 第6章，设计表格，帮助您创建美观的表格。具体来说，它包括创建清晰的表格、对齐数字数据、添加颜色、形状、着色和透明度合并和拆分单元格，以及从外部文件读入表格数据。

- 第7章，“目录、索引和参考书目”提供了快速启动和自定义目录、图表列表、参考书目、词汇表和索引的方法。

- 第8章，充分利用PDF，探讨PDF的功能，如元数据、PDF注释和可填充表单。您将看到如何组合PDF文件、如何裁剪页边距以及如何优化电子书的输出。

- 第9章，创建图形，包含创建令人印象深刻的图形的方法。我们将从为各种目的使用现代软件包开始，以创建完整且可用的图形，例如各种图表和图表。

- 第十章，高等数学，探讨了乳胶的一个经典优点——排版公式的卓越品质。这就是为什么LaTeX是数学中使用最多的书写软件。说到公式，其他科学也从中受益。

- 第11章，科学与技术，涉及其他科学，如化学、物理、计算机科学和电子技术。本章将是一个概述，展示如何使用特定配方在各个领域使用LaTeX。

- 第12章，在互联网上获得支持，从LaTeX最有用的互联网资源指南开始。本章将向您展示如何从TeX在线社区获得帮助。

## 这本书你需要什么 ##

这里您需要的软件是TeX Live，版本2015或更高版本，或MiKTeX，版本2.9或更高版本。建议还安装LaTeX编辑器。

第1章的导言将解释如何获得TeX软件和编辑器。第12章将引导您进一步了解互联网资源。

一个重要的工具是texdoc。它为您打开手册和进一步的文档。texdoc包含在TeX Live中。MiKTeX提供了一个同名的类似工具。在命令提示下，通过键入texdoc关键字调用texdoc。对于包和捆绑包，关键字通常只是名称。

本书中的所有代码示例都可以下载，如客户支持一节稍后所述。因此，您不需要键入代码，也不需要进行复制和粘贴。这就是为什么我们可以将代码分成片段，一步一步地解释它们。

## 这本书是写给谁的 ##

如果你已经知道LaTeX的基本知识，如果你想快速有效地解决你的问题，这本书对你来说是完美的。

如果您是一名高级读者，您可以使用本书的示例驱动格式将您的技能提升到下一个级别。

需要熟悉LaTeX的基本语法以及如何使用您选择的编辑器进行编译。

## 段落 ##

在这本书中，你会发现几个经常出现的标题（准备，如何做，如何工作，还有更多，请参见）。为了明确说明如何完成配方，我们使用以下章节：

- ### 准备 ###

本节将告诉您配方中的预期内容，并介绍如何设置配方所需的任何软件或任何初步设置。

- ### 如何做到这一点… ###

本节包含了遵循配方所需的步骤。

- ### 工作原理…… ###

本节通常包括对上一节中发生的情况的详细解释。

- ### 还有更多… ###

本节包括有关配方的附加信息，以使读者更了解配方。

- ### 另外 ###

请参阅本节提供了有关配方的其他有用信息的有用链接。

## 约定 ##

在本书中，您将发现许多文本样式可以区分不同类型的信息。

下面是这些风格的一些例子，并解释了它们的含义。文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter句柄如下所示：
> “使用 equation environment 编写数学等式。”

代码块设置如下：
```latex
\begin{document}
\frenchspacing
\raggedbottom
\selectlanguage{american}
\pagenumbering{roman}
\pagestyle{plain}
```

**新术语** 和 **重要词语** 以粗体显示。您在屏幕上看到的单词（例如，在菜单或对话框中）会出现在文本中，如下所示：“单击**浏览文件**以获得填充图像和示例文件。”

## 下载示例代码 ##

您可以从您的帐户下载示例代码文件，网址为<http://www.packtpub.com> 对于您购买的所有Packt出版书籍。

如果你在别处购买了这本书，你可以访问<http://www.packtpub.com/support> 并注册，将文件直接通过电子邮件发送给您。

*我收藏了这些代码，放在我的博客之中，如有需要请访问我的博客：<https://github.com/zhoulvbang/LaTeX-Material/tree/LaTeX-Cookbook>*

## 勘误表 ##

虽然我们已尽一切努力确保内容的准确性，但错误确实会发生。如果您在我们的一本书中发现错误，可能是文本或代码中的错误，如果您能向我们报告，我们将不胜感激。通过这样做，您可以使其他读者免于沮丧，并帮助我们改进本书的后续版本。

如果您发现任何错误，请访问报告<http://www.packtpub.com/submit-errata>，选择您的书籍，单击勘误表提交表单链接，然后输入勘误表的详细信息。一旦您的勘误表得到验证，您的提交将被接受，勘误表将上载到我们的网站或添加到该标题勘误表部分下的任何现有勘误表列表中。要查看以前提交的勘误表，请转到<https://www.packtpub.com/books/> 内容/支持，并在搜索字段中输入图书名称。所需信息将出现在勘误表部分下。

## Piracy ##
在互联网上盗版版权材料是所有媒体都面临的一个持续问题。在Packt，我们非常重视版权和许可证的保护。

如果您在互联网上发现任何形式的非法复制品，请立即向我们提供地址或网站名称，以便我们采取补救措施。请联系我们<copyright@packtpub.com>与怀疑盗版材料的链接。我们感谢您在保护我们的作者方面提供的帮助以及我们为您带来有价值内容的能力。

## 问题 ##
如果您对本书的任何方面有任何问题，可以通过<questions@packtpub.com>与我们联系，我们将尽力解决此问题。

# 文档类型的多样性 #

通常，文档的大小、格式、剖面和设计可能会有所不同。您可以对任何文档类型使用LaTeX。在本章中，您将找到各种文档的样式。

我们将具体讨论以下主题：

- 写一篇短文
- 写一篇论文
- 设计一本书
- 制作一个beamer
- 设计一份简历
- 写一封信
- 制作一份传单
- 制作一张大型海报

## Introduction ##

LaTeX已经存在很多年了。随着时间的推移，开发人员和作者为LaTeX代码库提供了大量扩展。

这些扩展包括以下内容：

- documentclass：这是一个样式文件，它是文档的框架。它通常带有有意义的默认设置，可以在加载时通过选项进行更改。其宏可以通过`\renewcommand`进行自定义。它通常为作者提供修改设置的命令。
- Package: 这是一个具有特定用途的样式文件，可以在文档类之外加载。包可以组合。大多数情况下，我们使用`\usepackage`命令加载许多包。
- Bundle: 这是一组密切相关的包或类。在我们的第一个样式中，写一篇短文，您将了解一些捆绑包。
- Template: 这是一个用虚拟文本填充的文档，您可以将其作为起点，只需填充您自己的标题、文本、公式和图像。我们将看一看第二个样式中的模板，写一篇论文。

这些附加组件非常有价值！它们是LaTeX持久成功的原因之一。我们都同意，学习LaTeX可能很难，因为它的学习曲线很陡。但是，如果您不重新发明轮子，从一个好的模板或类以及一组高质量的包开始，您可以很快获得很好的结果。

这本书的目的是在这方面帮助你。

## Getting ready ##

为了能够使用LaTeX，您需要在计算机上安装以下组件：

- TeX和LaTeX软件，在LaTeX编辑器中统称为TeX发行版
- LaTeX编辑器，您可以使用任何文本编辑器
- 用于查看最终输出的PDF查看器

如果你已经安装了这些，太好了！在这种情况下，您可以跳过下一段，立即进入第一个样式。

您的计算机上可能已经安装了PDF阅读器，如Foxit reader、Adobe reader或Mac上的预览应用程序。此外，大多数编辑器都带有集成的PDF预览器。那么，让我们看看TEX软件和编辑器。

## TeX and LaTeX distributions ##

TeX和LaTeX软件的集合已准备就绪，易于安装。他们的网站提供有关安装和更新它们的信息。您可以为您的系统选择下载站点：

- TeX Live：在<http://tug.org/texlive/>，您可以找到在Windows、Linux、Mac OS X和其他Unix系统上运行的跨平台TeX发行版的下载信息和安装说明。它由TeX用户组（TUG）支持。
- MacTex：这是基于TeX Live，并已针对Mac OS X进行了大量定制。基本信息可在<http://www.tug.org/mactex/>。
- MikTeX：有关该Windows特定发行版的下载和文档，请访问<http://www.miktex.org/>。
- Pro TeXt：这仅适用于Windows，它源自MiKTeX，但在安装过程中，proTeXt更为用户友好。其主页可在以下网址找到：<http://www.tug.org/protext/>。

如果你有Mac电脑，我建议你选择MacTeX；否则，我建议使用TeX Live，因为TUG的支撑特别好。

描述设置超出了本书的范围。对于TeX Live，您可以在Packt Publishing的《LaTeX初学者指南》中找到带有屏幕截图的分步说明。通常，当您访问上面列出的TeX发行版的Internet地址时，您可以找到详细的设置说明。

最后，在Linux上，如Ubuntu、Debian、Red Hat、Fedora和SUSE版本，通常有一个基于TeX Live的软件包，可通过操作系统存储库获得。虽然它通常不像通过TeX Live网站或TeX Live DVD进行的安装那样是最新的，但使用Linux软件包管理器（通常用于安装任何软件）进行安装非常容易。

## LaTeX editors ##

有许多LaTeX编辑器，从小型、快速到功能丰富的编辑器。TeX发行版已经提供了我使用的精细编辑器TeXworks。它可以与TeX或Linux上的软件包管理器一起设置，并且可以从<http://www.tug.org/texworks/>。

我在我的博客<http://texblog.net/LaTeX-link-archive/distribution-editor-viewer/>上有一系列指向LaTeX编辑器和其他软件的链接，您可以在这里寻找在操作系统上运行的替代编辑器。

此外，还有纯在线的LaTeX编辑器，可以在web浏览器中运行，因此您甚至可以在平板电脑和智能手机上使用它们。最值得注意的LaTeX编辑器如下所示：

- <https://www.overleaf.com>，具有实时协作编辑和富文本模式，可直接在编辑器中呈现标题、方程式和其他格式.
- <https://www.sharelatex.com>，还具有实时协作和修订历史记录，用于跟踪更改

-
*在我翻译此文档时，overleaf与sharelatex已经合并为一家*

- 目前国内做的还可以是的<texpage.com>，目前还处在上升期，还需要时间来发展与改进。

如果您在设置和使用LaTeX或任何其他编辑器方面需要任何帮助，您可以访问LaTeX web论坛。在第12章“在互联网上获得支持”中，您可以找到这些论坛的链接，并了解如何使用它们。你也可以在那些论坛上找到我。

如果您想在学习LaTeX方面获得帮助，可以查看LaTeX初学者指南，网址为<https://www.packtpub.com/hardware-and-creative/latex-beginnersguide>。

完成安装后，可以启动编辑器并从LaTeX样式开始。

# 写一篇短文 #

虽然LaTeX对于大型文档非常有用，但对于较小的文档也同样有用，并且您可以使用所有的功能。例如，写家庭作业或制作研讨会讲义不需要像书一样的章节，而且布局也不太宽敞。

因此，我们将选择一个最适合手头任务的文档类。有一些类包涵盖了常用的文档类型。每个LaTeX安装都包含带有标准类的基本捆绑包。有文章、书籍、报告、信件等的类文件。它是稳定的东西；它已经很多年没有真正改变了。如果你不在乎最新的款式，这就足够了。它甚至可以在一个有十年历史的乳胶装置上运行。

在这个样式中，我们将使用一个`KOMA Script`类。这是一组最初设计的类，其目的是替换标准类并提供更多功能。与相当静态的基本包不同，`KOMA Script`近年来得到了广泛的开发。它变得功能丰富，并获得了优秀的用户界面。它的部分功能在包中提供，也可以与其他类一起使用。您可以通过前缀scr识别`KOMA Script`的类和包。此前缀表示`script`，它是此捆绑包的初始名称。

## 怎么做 ##

我们将从一个完整的小文档开始，该文档已经使用了各种功能。这可以是您的模板，稍后您可以将自己的文本添加到其中。当我们一步一步地浏览文档时，您可以直接用编辑器打开完整的代码，因此不需要键入它。它包含在本书页面提供的代码包中<https://www.packtpub.com> 在书页上<http://latexcookbook.net>. 执行以下步骤以创建小文档：

1. 从文档类开始。我们将使用`KOMA Script` 类的`SCRARTCL`，纸张大小为A4，基本字体大小为12磅，段落间距代替默认段落缩进：

    ```latex
   \documentclass[paper=a4,oneside,fontsize=12pt,parskip=full]{scrartcl}
   ```

2. 开始文档：

    ```latex
   \begin{document}
   ```

3. 让LaTeX使用以下命令打印目录：

    ```latex
   \tableofcontents
   ```

4. 开始一个没有编号的部分：

    ```latex
   \addsec{Introduction}
   ```

5. 添加一些文本：

    ```latex
   This document will be our starting point for simple documents. It is suitable for a single page or up to a couple of dozen pages. The text will be divided into sections.
   ```

6. 以文本开始自动编号的部分：

    ```latex
   \section{The first section}
   This first text will contain
   ```

7. 使用逐项列出环境添加项目符号列表。每个列表项都以`\item`开头。使用`\ref{label}`，我们将引用稍后创建的标签：

    ```latex
     \begin{itemize}
         \item a table of contents,
         \item a bulleted list,
         \item headings and some text and math in section,
         \item referencing such as to section 
         \ref{sec:maths} and equation (\ref{eq:integral}).
     \end{itemize}
     ```

8. 继续文本并开始另一个编号部分：

    ```latex
     We can use this document as a template for filling in our own content.
     \section{Some maths}
     ```

9. 设置一个标签，以便我们可以在需要参考本节时参考此点：

     ```latex
     \label{sec:maths}
    ```

10. 继续读课文。我们将在课文中开始使用一些数学表达式。我们用前缀反斜杠将它们括在括号中，即`\(…\)`。

     ```latex
     When we write a scientific or technical document, we usually include math formulas. To get a brief glimpse of the look of maths, we will look at an integral approximation of a function \(f(x)\) as a sum with weights \(w_i\):
     ```

11. 使用方程式环境编写数学方程式。再次使用以下命令放置标签：

    ```latex
    \begin{equation}
    \label{eq:integral}
    \int_a^b f(x)\,\mathrm{d}x \approx (b-a)
    \sum_{i=0}^n w_i f(x_i)
    \end{equation}
    ```

12. 结束文档：

    ```latex
    end{document}
    ```

13. 编辑文件。输出的第一页如下所示：

## 它是如何工作的 ##

在第一行中，我们加载了文档类 `scratcl`。在方括号中，我们设置了指定A4纸张大小（单面打印）和12磅字体大小的选项。最后，我们选择在输出中的段落之间有一个完整的行，以便我们可以轻松地区分段落。

**Notes:** 默认设置是段落之间没有空格，每个段落开头都有一个小缩进。取消选中`parskip`选项以查看它。我们选择跳过段落是因为很多人在处理电子邮件时已经习惯了，而缩进需要占用行空间，这是小型电子设备上的宝贵资源。

不费吹灰之力，我们以目录开始了正文。虽然编号的节由`\section`命令启动，但我们可以使用带星号的版本 `\section*` 启动未编号的节。但是，我们对第一个未编号的部分使用了*KOMA Script*命令`\addsec`。这是因为，与 `\section*` 相反，`\addsec` 命令在目录中生成一个条目。

一个空行告诉$\LaTeX$将段落打断。由于项目符号列表是一种清晰显示要点的好方法，我们为此使用了逐项列出的环境。所有环境都以`\begin`命令开始，并以`\end`命令结束。

**Tips：** 如果希望有编号的列表，请使用`enumerate`环境。

公式环境已用于显示自动编号的公式。我们使用`\label`命令设置了一个不可见的锚标记，这样我们就可以通过`\ref`命令使用其标签名称来引用它，并在输出中获得方程式编号。

**Tips：** 选择标签标识符：使用前缀来标识各种标签是一种很好的做法，例如等式的`eq:name`、数字的`fig:name`、表格的`tab:name`等等。避免在名称中使用特殊字符，例如重音字母。

文本行中的小公式包含在`\(…\)`中，它提供了内联数学模式。美元符号`$…$`，可以用来代替`\(…\)`，这使得打字更容易。但是，使用括号可以更容易地理解数学模式的开始和结束位置，当许多数学表达式分散在文本中时，这可能是有益的。

有关数学排版的更多信息，请参阅第10章，高等数学，特别是公式的样式。

## 另见 ##

`\begin{document}`命令之前的文档部分称为前言。它包含全局设置。通过在文档前言中添加几行，我们可以改进文档并修改总体外观。第2章，调整文本，从对小文档有益的添加开始。它们支持直接输入重音字符和unicode符号，并改进对齐和断字。

在第3章“调整字体”中，您可以找到更改整个文档或某些元素字体的方法。

有关进一步的自定义任务，如修改页面布局和添加标题页，请参阅本章中的“设计书的配方”。我们将在一本书的例子中看看这样的设置。
